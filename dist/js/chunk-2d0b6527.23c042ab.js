(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6527"],{"1d53":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"profile-wrapper"},[r("el-card",{staticStyle:{"margin-bottom":"19px"},attrs:{header:"个人简介"}},[r("el-form",{attrs:{"label-suffix":":"}},[r("el-form-item",{attrs:{label:"个人资料"}},[r("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.profile.personal.description,callback:function(t){e.$set(e.profile.personal,"description",t)},expression:"profile.personal.description"}})],1),r("div",{staticClass:"contact-container"},[r("label",{attrs:{for:""}},[e._v("联系方式")]),r("br"),r("br"),e._l(e.profile.personal.contact,(function(t,n){return r("el-form-item",{key:n,attrs:{"label-width":"60px",label:t.label}},[r("el-input",{ref:"contactItems",refInFor:!0,staticStyle:{width:"80%","margin-right":"10px"},model:{value:t.value,callback:function(r){e.$set(t,"value","string"===typeof r?r.trim():r)},expression:"item.value"}}),n===e.profile.personal.contact.length-1&&n>0?r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.profile.personal.contact.pop()}}},[e._v("删除")]):e._e()],1)}))],2),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitPersonal}},[e._v("保存")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addContactItem}},[e._v("添加联系方式")])],1)],1)],1),r("el-card",{attrs:{header:"技术介绍"}},[r("el-form",{ref:"technology"},[r("el-form-item",{attrs:{label:"前端技术"}},[r("el-input",{attrs:{type:"textarea",rows:5,clearable:""},model:{value:e.profile.technology.frontend,callback:function(t){e.$set(e.profile.technology,"frontend",t)},expression:"profile.technology.frontend"}})],1),r("el-form-item",{attrs:{label:"服务端技术"}},[r("el-input",{attrs:{type:"textarea",rows:5,clearable:""},model:{value:e.profile.technology.serverSide,callback:function(t){e.$set(e.profile.technology,"serverSide",t)},expression:"profile.technology.serverSide"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitTechnology}},[e._v("保存")])],1)],1)],1),e._e()],1)])},o=[],a=(r("ac6a"),r("96cf"),r("3b8d")),i={name:"Profile",data:function(){return{}},computed:{profile:function(){return this.$store.state.configuration.profile}},methods:{addContactItem:function(){var e=this;this.$prompt("请输入联系方式标签","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return!!e||"联系方式标签不能为空"}}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.value,e.profile.personal.contact.push({label:n}),t.next=4,e.$nextTick();case 4:e.$refs.contactItems[e.profile.personal.contact.length-1].focus();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(console.info)},submitPersonal:function(){var e=this,t=this.profile.personal,r=t.description,n=t.contact;if(!r)return this.$message.warning("个人介绍不能为空");if(!n.length)return this.$message.warning("联系方式最少为一个");try{n.forEach((function(t){if(!t.value)throw e.$message.warning("".concat(t.label,"不能为空")),new Error("".concat(t.label,"不能为空"))}))}catch(a){return void console.error(a)}var o={personal:{description:r,contact:n}};this.$store.dispatch("updateProfile",o).then((function(){e.$message.success("修改个人介绍成功")}))},submitTechnology:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,o,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.profile.technology,r=t.serverSide,n=t.frontend,console.log(n,r),n){e.next=5;break}return this.$message.warning("请输入前端技术内容"),e.abrupt("return");case 5:if(r){e.next=8;break}return this.$message.warning("请输入服务端技术内容"),e.abrupt("return");case 8:o={technology:{frontend:n,serverSide:r}},this.$store.dispatch("updateProfile",o).then((function(){a.$message.success("设置技术简介成功")}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=i,s=r("2877"),c=Object(s["a"])(l,n,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b6527.23c042ab.js.map